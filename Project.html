<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Do Not Open The Door</title>
  <style>
    body {
      background-color: #0d0d0d;
      color: #e0e0e0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    h1 {
      font-size: 2.5em;
      margin-bottom: 20px;
      color: #ff4444;
      text-shadow: 2px 2px 10px black;
    }
    #game {
      max-width: 700px;
      background-color: #1a1a1a;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px #333;
      text-align: center;
    }
    .choice {
      margin: 10px;
      background-color: #333;
      border: none;
      color: white;
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    .choice:hover {
      background-color: #555;
    }
    #score {
      margin-top: 20px;
      font-style: italic;
      color: #999;
    }
  </style>
</head>
<body>
  <h1>Do Not Open The Door</h1>
  <div id="game"></div>
  <div id="score"></div>

  <script>
    const gameDiv = document.getElementById("game");
    const scoreDiv = document.getElementById("score");
    let currentStep = 0;
    let score = 0;

    const steps = [
      {
        text: [
          "It’s 3:00 AM.",
          "You wake up to violent knocking on your apartment door.",
          "It’s pitch dark, no electricity, and your phone has no signal.",
          "A shadow is standing still under the door.",
          "What would you like to do?"
        ],
        choices: [
          { text: "Open the door", next: 1, score: 5 },
          { text: "Look through the peephole", next: 2, score: 10 }
        ]
      },
      {
        text: [
          "You open the door... no one is there.",
          randomChoice([
            "A cold wind blows through the kitchen.",
            "You see a shadow move quickly to the kitchen.",
            "The kitchen door opens by itself, and black smoke seeps out."
          ]),
          "What would you like to do?"
        ],
        choices: [
          { text: "Enter the kitchen", next: 3, score: 0 },
          { text: "Close the door and lock it", next: 4, score: 0 }
        ]
      },
      {
        text: [
          "No one outside, but you hear a whisper behind you: 'You were not supposed to look, you were supposed to run.'",
          "What would you like to do?"
        ],
        choices: [
          { text: "Turn around", next: 3, score: 0 },
          { text: "Run to your room", next: 4, score: 0 }
        ]
      },
      {
        text: [
          "You encounter a dark entity, red eyes glowing, whispering: 'If you touch me... you’ll see the truth.'",
          "What would you like to do?"
        ],
        choices: [
          { text: "Touch the entity", next: 5, score: 5 },
          { text: "Run and hide", next: 6, score: 5 }
        ]
      },
      {
        text: [
          "You find a crying child in your room: 'The monster hides in the mirror.'",
          "What would you like to do?"
        ],
        choices: [
          { text: "Look in the mirror", next: 5, score: 5 },
          { text: "Break the mirror", next: 6, score: 5 }
        ]
      },
      {
        text: [
          "You see memories that aren’t yours... fire, blood, screams.",
          "You lose control.",
          "What would you like to do?"
        ],
        choices: [
          { text: "Scream and try to wake up", next: 7, score: -5 },
          { text: "Surrender", next: 8, score: -5 }
        ]
      },
      {
        text: [
          "The entity screams and vanishes, but leaves a strange mark on your hand.",
          "What would you like to do?"
        ],
        choices: [
          { text: "Leave the apartment", next: 7, score: 10 },
          { text: "Hide behind the door", next: 8, score: 10 }
        ]
      },
      {
        text: [
          "You leave the apartment, the sun rises, and it feels like you escaped a nightmare.",
          "But you know you’ll never be the same again..."
        ],
        ending: true
      },
      {
        text: [
          "You wake up again in the same place...",
          "You’ve become part of the entity inside the apartment."
        ],
        ending: true
      }
    ];

    function randomChoice(arr) {
      return arr[Math.floor(Math.random() * arr.length)];
    }

    function renderStep(stepIndex) {
      const step = steps[stepIndex];
      gameDiv.innerHTML = "";

      step.text.forEach(p => {
        const para = document.createElement("p");
        para.textContent = p;
        gameDiv.appendChild(para);
      });

      if (step.ending) {
        const endMsg = document.createElement("h2");
        endMsg.style.color = score > 15 ? "#00cc66" : "#cc0000";
        endMsg.textContent = score > 15 ? "You Won!" : "You Lost!";
        gameDiv.appendChild(endMsg);

        const q = document.createElement("p");
        q.textContent = "Do you want to play again?";
        gameDiv.appendChild(q);

        const againBtn = document.createElement("button");
        againBtn.textContent = "Yes, play again";
        againBtn.className = "choice";
        againBtn.onclick = () => {
          score = 0;
          currentStep = 0;
          renderStep(currentStep);
        };
        gameDiv.appendChild(againBtn);

        const endBtn = document.createElement("button");
        endBtn.textContent = "No, I'm done";
        endBtn.className = "choice";
        endBtn.onclick = () => {
          gameDiv.innerHTML = '<h2>Thank you for playing!</h2><p>We hope you enjoyed the horror...</p>';
          scoreDiv.textContent = "";
        };
        gameDiv.appendChild(endBtn);
      } else {
        step.choices.forEach(choice => {
          const btn = document.createElement("button");
          btn.textContent = choice.text;
          btn.className = "choice";
          btn.onclick = () => {
            score += choice.score;
            currentStep = choice.next;
            renderStep(currentStep);
          };
          gameDiv.appendChild(btn);
        });
      }
      scoreDiv.textContent = `Score: ${score}`;
    }

    renderStep(currentStep);
  </script>
</body>
</html>
